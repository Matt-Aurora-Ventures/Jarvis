# Jupiter Perps — Example Configuration
# Copy this to your project root as .env and fill in the values.
# Only XAI_API_KEY is required for AI signals. Everything else has sane defaults.

# ─── Required for AI signals ───────────────────────────────────────────────
# Get a free API key at https://console.x.ai/
XAI_API_KEY=xai-your-api-key-here

# ─── Mode ──────────────────────────────────────────────────────────────────
# disabled = no AI signals (default)
# alert    = AI signals logged + Telegram alerts, no execution
# live     = full autonomous execution
PERPS_AI_MODE=alert

# ─── Wallet + RPC (required for live mode only) ───────────────────────────
# PERPS_WALLET_ADDRESS=YourSolanaPublicKeyHere
# SOLANA_RPC_URL=https://mainnet.helius-rpc.com/?api-key=YOUR_KEY
# HELIUS_RPC_URL=https://mainnet.helius-rpc.com/?api-key=YOUR_KEY
# PERPS_SIGNER_KEYPAIR_B58=YOUR_BASE58_PRIVATE_KEY
# PERPS_SIGNER_KEYPAIR_B58_FILE=/absolute/path/to/keypair.txt

# ─── Telegram alerts (optional) ───────────────────────────────────────────
# TELEGRAM_BOT_TOKEN=123456:ABC-DEF
# TELEGRAM_BUY_BOT_CHAT_ID=your-chat-id

# ─── Position Manager defaults ─────────────────────────────────────────────
PERPS_STOP_LOSS_PCT=5.0
PERPS_TAKE_PROFIT_PCT=10.0
PERPS_TRAILING_STOP_PCT=8.0
PERPS_TRAILING_ACTIVATE_PCT=3.0
PERPS_MAX_HOLD_HOURS=48
PERPS_MAX_BORROW_PCT=2.0
PERPS_EMERGENCY_STOP_PCT=15.0

# ─── Cost Gate defaults ────────────────────────────────────────────────────
PERPS_MAX_TOTAL_EXPOSURE_USD=5000
PERPS_MAX_ASSET_EXPOSURE_USD=2000
PERPS_MAX_POSITIONS=5
PERPS_DAILY_DRAWDOWN_HALT_PCT=3.0

# ─── AI Signal Bridge ─────────────────────────────────────────────────────
PERPS_AI_MIN_CONFIDENCE=0.75
PERPS_AI_MAX_USD=500
PERPS_AI_COOLDOWN_MINUTES=60
PERPS_AI_BASE_SIZE_USD=100
PERPS_AI_POLL_INTERVAL=300
PERPS_AI_LLM_PROVIDERS=xai
PERPS_AI_PROVIDER_TIMEOUT_SECONDS=30
PERPS_AI_XAI_MODEL=grok-4-latest
# Optional multi-LLM keys/models:
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=...
# PERPS_AI_OPENAI_MODEL=gpt-4.1-mini
# PERPS_AI_ANTHROPIC_MODEL=claude-sonnet-4-20250514
# Optional arbitration tuning:
# PERPS_AI_ARBITRATION_MARGIN=0.35
# PERPS_AI_MIN_DIRECTION_SCORE=0.15
# PERPS_AI_PROVIDER_RELIABILITY_JSON={"xai":0.95,"openai":0.92,"anthropic":0.92}

# ─── Self-Adjuster ────────────────────────────────────────────────────────
PERPS_TUNER_MIN_TRADES=10
PERPS_TUNER_LEARNING_RATE=0.10
PERPS_TUNER_MIN_WEIGHT=0.10

# ─── Persistence ──────────────────────────────────────────────────────────
# SQLite is primary storage — auto-created if path set
# PERPS_SQLITE_PATH=./perps_journal.db
# Optional PostgreSQL replica (connection string)
# PERPS_DB_DSN=postgresql://user:pass@host:5432/jarvis
