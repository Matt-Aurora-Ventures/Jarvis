# Jarvis Sniper (V1) Environment Variables
#
# IMPORTANT:
# - Never commit real keys or private keys.
# - Do NOT put paid RPC provider keys in NEXT_PUBLIC_* variables.
#   Anything prefixed with NEXT_PUBLIC_ is shipped to the browser bundle.
#
# Create a local file: jarvis-sniper/.env.local (gitignored)

# ----------------------------
# Server-only (safe secrets)
# ----------------------------

# Helius Gatekeeper RPC URL (server-only).
# Production trading is fail-closed without a configured Helius endpoint.
# Example: https://beta.helius-rpc.com/?api-key=YOUR_KEY_HERE
HELIUS_GATEKEEPER_RPC_URL=

# Solana RPC used by server API routes (/api/bags/*, /api/macro, etc).
# Can include a paid provider key (Helius/QuickNode/etc).
# Legacy fallback server RPC (checked after HELIUS_GATEKEEPER_RPC_URL).
# Example: https://mainnet.helius-rpc.com/?api-key=YOUR_KEY_HERE
SOLANA_RPC_URL=

# Bags API key used by server proxy routes (/api/bags/quote + /api/bags/swap).
BAGS_API_KEY=

# Solscan Pro API key (server-only) for session-wallet on-chain position sync.
# Never expose this in NEXT_PUBLIC_* vars.
SOLSCAN_API_KEY=

# Optional: referral account (public key) to receive Bags partner fee share.
BAGS_REFERRAL_ACCOUNT=

# API key for middleware auth gate on sensitive routes (/api/bags/*, /api/jito/*, /api/session-wallet/*)
# Generate one: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# If set, clients must include "Authorization: Bearer <SNIPER_API_KEY>" header.
SNIPER_API_KEY=

# Optional: allowlist of origins for API routes (comma-separated).
# Same-origin calls work without this. Set when embedding/calling from other origins.
# Example: ALLOWED_ORIGINS=http://localhost:3001,https://sniper.example.com
ALLOWED_ORIGINS=

# ----------------------------
# xAI Autonomy (server-only)
# ----------------------------

# xAI runtime key for batch-only autonomy jobs.
# Must be a restricted child key with frontier model allowlist + low qps/qpm/tpm limits.
XAI_API_KEY=

# Frontier model policy (fail-closed if unavailable).
XAI_FRONTIER_MODEL=grok-4-1-fast-reasoning
XAI_FRONTIER_FALLBACK_MODELS=grok-4-fast-reasoning,grok-4

# Batch-only mode for autonomy decisions.
XAI_BATCH_ENABLED=true

# Hard spend and token caps.
XAI_DAILY_BUDGET_USD=10
XAI_HOURLY_MAX_INPUT_TOKENS=150000
XAI_HOURLY_MAX_OUTPUT_TOKENS=30000

# Optional conservative pricing assumptions for budget projections.
XAI_EST_INPUT_COST_PER_1M_USD=5
XAI_EST_OUTPUT_COST_PER_1M_USD=15

# Display-only key policy metadata surfaced in /api/health.
XAI_KEY_RATE_QPS=0.2
XAI_KEY_RATE_QPM=12
XAI_KEY_RATE_TPM=120000

# Optional override of xAI base URL.
XAI_BASE_URL=https://api.x.ai/v1

# ----------------------------
# Autonomy Control Plane
# ----------------------------

# Enable/disable autonomous runtime adjustments.
AUTONOMY_ENABLED=true

# Maximum strategy adjustments applied per hourly cycle.
AUTONOMY_MAX_ADJUSTMENTS_PER_CYCLE=1

# Required bearer token for scheduler-triggered POST /api/autonomy/hourly.
AUTONOMY_JOB_TOKEN=

# GCS bucket for hourly immutable audit artifacts + state snapshots.
AUTONOMY_AUDIT_BUCKET=kr8tiv-sniper-autonomy-audit

# ----------------------------
# Client (public)
# ----------------------------

# IMPORTANT: RPC used by the browser for reads/confirmations.
# ONLY use a FREE public endpoint (e.g. https://api.mainnet-beta.solana.com).
# NEVER put paid API keys here - anything with NEXT_PUBLIC_ is bundled into client JS.
# If unset, Jarvis Sniper falls back to https://api.mainnet-beta.solana.com
NEXT_PUBLIC_SOLANA_RPC=

# Canonical public origin used for wallet deep links and share/copy links.
# Set this when you have a custom domain (recommended).
# Example: https://sniper.jarvislife.io
NEXT_PUBLIC_CANONICAL_ORIGIN=
