#!/usr/bin/env python3
import os
import sys
from pathlib import Path

ROOT = Path(__file__).resolve().parents[1]
venv_python = ROOT / "venv" / "bin" / "python"
if venv_python.exists():
    current = Path(sys.executable).resolve()
    # Re-exec inside venv for consistent deps when available.
    if current != venv_python.resolve():
        os.execv(str(venv_python), [str(venv_python), str(Path(__file__).resolve()), *sys.argv[1:]])

sys.path.insert(0, str(ROOT))

from core.cli import main

if __name__ == "__main__":
    main()
