# ============================================================================
# JARVIS Configuration Template
# ============================================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!
# ============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------

# Environment: development, staging, production
NODE_ENV=development

# Data directory for logs, databases, caches
DATA_DIR=./data

# Logging level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------

# FastAPI server settings
API_HOST=0.0.0.0
API_PORT=8766
API_RELOAD=true

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Flask server (legacy API)
FLASK_HOST=0.0.0.0
FLASK_PORT=8765

# -----------------------------------------------------------------------------
# Solana Configuration
# -----------------------------------------------------------------------------

# Network: mainnet-beta, devnet, testnet
SOLANA_NETWORK=devnet

# RPC endpoints
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WS_URL=wss://api.devnet.solana.com

# Premium RPC (Helius, QuickNode, etc)
HELIUS_API_KEY=
HELIUS_RPC_URL=

# Wallet paths (NEVER commit actual key files!)
TREASURY_WALLET_PATH=./wallets/treasury.json
ACTIVE_WALLET_PATH=./wallets/active.json
PROFIT_WALLET_PATH=./wallets/profit.json

# Program IDs
STAKING_PROGRAM_ID=11111111111111111111111111111111
KR8TIV_MINT=11111111111111111111111111111111

# -----------------------------------------------------------------------------
# Bags.fm Integration
# -----------------------------------------------------------------------------

# Enable Bags.fm fee collection
ENABLE_BAGS_INTEGRATION=false

# Bags.fm API settings
BAGS_API_URL=https://api.bags.fm
BAGS_PARTNER_CODE=
BAGS_PARTNER_SECRET=
DEMO_SWAP_SLIPPAGE_BPS=100
DEMO_SWAP_SLIPPAGE_PCT=
# Demo buys default to Bags-only. Set to 1/true to enable Jupiter fallback.
DEMO_BUY_JUPITER_FALLBACK=0
DEMO_EXIT_CHECKS=1
DEMO_EXIT_CHECK_INTERVAL_SECONDS=30
DEMO_TPSL_AUTO_EXECUTE=1

# Fee collector settings
BAGS_REFERRAL_WALLET=
BAGS_FEE_COLLECTION_INTERVAL_HOURS=1

# -----------------------------------------------------------------------------
# Bags Intel (Token Launch Intelligence)
# -----------------------------------------------------------------------------

# Bitquery API for real-time WebSocket monitoring of graduations
# Get from: https://graphql.bitquery.io/
BITQUERY_API_KEY=

# Intel report thresholds
BAGS_INTEL_MIN_MCAP=10000
BAGS_INTEL_MIN_SCORE=30

# -----------------------------------------------------------------------------
# Stripe Integration (Credits System)
# -----------------------------------------------------------------------------

STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Stripe price IDs for credit packages
STRIPE_PRICE_STARTER=
STRIPE_PRICE_PRO=
STRIPE_PRICE_WHALE=

# -----------------------------------------------------------------------------
# Treasury Configuration
# -----------------------------------------------------------------------------

# Allocation percentages (must sum to 100)
TREASURY_RESERVE_PCT=60
TREASURY_ACTIVE_PCT=30
TREASURY_PROFIT_PCT=10

# Treasury trading controls
TREASURY_LIVE_MODE=false
JARVIS_WALLET_PASSWORD=

# Risk management
CIRCUIT_BREAKER_THRESHOLD=10
MAX_SINGLE_TRADE_PCT=2.0
DAILY_LOSS_LIMIT_PCT=5.0

# Bags fee allocation (must sum to 100)
BAGS_STAKING_REWARDS_PCT=50
BAGS_OPERATIONS_PCT=30
BAGS_DEVELOPMENT_PCT=20

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# SQLite (default)
DATABASE_URL=sqlite:///./data/jarvis.db

# PostgreSQL (production)
# DATABASE_URL=postgresql://user:password@localhost:5432/jarvis

# Redis (caching, sessions)
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# External APIs
# -----------------------------------------------------------------------------

# OpenAI (for AI features)
OPENAI_API_KEY=

# Anthropic (for Claude)
ANTHROPIC_API_KEY=
# Optional: override Anthropic Messages API base URL (e.g., Ollama local gateway)
ANTHROPIC_BASE_URL=
# Optional: Ollama Anthropic-compatible base URL (preferred when set)
OLLAMA_ANTHROPIC_BASE_URL=
# Optional: force Claude API mode for /code and /dev (useful with local models)
CLAUDE_USE_API_MODE=false

# xAI Grok
XAI_API_KEY=
XAI_MODEL=grok-3-mini

# Groq (Free tier: 30 req/min)
# Get API key: https://console.groq.com
GROQ_API_KEY=
GROQ_MODEL=llama-3.3-70b-versatile

# Ollama (Local, free, private)
# Install: https://ollama.ai
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# AI Runtime Layer (Optional - Local component intelligence)
# Fail-open: if disabled or unavailable, all apps continue normally
AI_RUNTIME_ENABLED=false
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5-coder:7b
AI_TIMEOUT_MS=800
AI_BUS_SOCKET=/tmp/jarvis_ai_bus.sock
AI_BUS_HMAC_KEY=  # Leave empty to auto-generate
AI_MEMORY_DB=data/ai_memory.db
AI_LOG_PATH=logs/ai_runtime.log
# Action journal for NPC harness spine
ACTION_JOURNAL_PATH=logs/action_journal.jsonl
# Kill switch for approvals (LIFEOS_KILL_SWITCH or KILL_SWITCH also respected)
JARVIS_KILL_SWITCH=false

# OpenRouter (Access to many models)
# Get API key: https://openrouter.ai
OPENROUTER_API_KEY=
OPENROUTER_MODEL=meta-llama/llama-3.2-3b-instruct:free

# DexScreener
DEXSCREENER_API_URL=https://api.dexscreener.com/latest

# Birdeye (Solana token data)
BIRDEYE_API_KEY=

# Jupiter (DEX aggregator)
JUPITER_API_URL=https://quote-api.jup.ag/v6

# Commodity pricing (optional)
METALS_API_KEY=
GOLD_API_KEY=

# Telegram Bot
TELEGRAM_BOT_TOKEN=
TELEGRAM_ADMIN_CHAT_ID=
TELEGRAM_ADMIN_IDS=

# Telegram Broadcast - Main group for sentiment digests
# If not set, falls back to TELEGRAM_BUY_BOT_CHAT_ID
TELEGRAM_BROADCAST_CHAT_ID=

# Telegram Buy Bot (optional separate token/chat)
TELEGRAM_BUY_BOT_TOKEN=
TELEGRAM_BUY_BOT_CHAT_ID=
BUY_BOT_ENABLE_POLLING=auto

# Telegram reply automation
TG_REPLY_MODE=mentions
TG_REPLY_COOLDOWN_SECONDS=12
TG_REPLY_MODEL=grok-3
TG_CLAUDE_MODEL=claude-sonnet-4-20250514

# Treasury admin overrides (comma-separated Telegram user IDs)
TREASURY_ADMIN_IDS=

# X (Twitter) API
X_API_KEY=
X_API_SECRET=
X_ACCESS_TOKEN=
X_ACCESS_TOKEN_SECRET=
X_BEARER_TOKEN=
X_EXPECTED_USERNAME=jarvis_lifeos

# X OAuth 2.0 (recommended)
X_OAUTH2_CLIENT_ID=
X_OAUTH2_CLIENT_SECRET=
X_OAUTH2_ACCESS_TOKEN=
X_OAUTH2_REFRESH_TOKEN=
X_OAUTH2_REDIRECT_URI=http://localhost:8888/callback

# Optional video attachment (Grok Imagine)
X_VIDEO_PATH=
X_VIDEO_DIR=

# Discord Webhooks
DISCORD_WEBHOOK_ALERTS=
DISCORD_WEBHOOK_TRADES=

# -----------------------------------------------------------------------------
# Voice Configuration (TTS/STT)
# -----------------------------------------------------------------------------

VOICE_ENABLED=false
SPEAK_RESPONSES=true
BARGE_IN_ENABLED=true

# ElevenLabs TTS
ELEVENLABS_API_KEY=
ELEVENLABS_VOICE_ID=

# OpenAI Whisper (STT)
WHISPER_MODEL=base

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------

# Vite dev server
VITE_API_URL=http://localhost:8766
VITE_WS_URL=ws://localhost:8766

# Wallet adapter
VITE_SOLANA_NETWORK=devnet

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------

# JWT secret for API authentication
JWT_SECRET=change-me-in-production

# API rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# Allowed IP addresses (comma-separated, empty = all)
ALLOWED_IPS=

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------

# Sentry error tracking
SENTRY_DSN=

# Prometheus metrics
METRICS_ENABLED=false
METRICS_PORT=9090

# Health check endpoint
HEALTH_CHECK_PATH=/api/health

# -----------------------------------------------------------------------------
# Development Tools
# -----------------------------------------------------------------------------

# Hot reload
WATCH_FILES=true

# Debug mode (extra logging)
DEBUG=false

# Test mode (uses test databases/mocks)
TEST_MODE=false
