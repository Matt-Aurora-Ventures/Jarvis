# JARVIS Web Demo - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME="JARVIS Web Demo"
APP_ENV=development  # development, staging, production
DEBUG=true
API_V1_PREFIX=/api

# =============================================================================
# Security (CRITICAL - Generate strong secrets!)
# =============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-min-32-chars
JWT_SECRET=your-jwt-secret-here-min-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_MIN_LENGTH=12

# =============================================================================
# CORS (Update for production)
# =============================================================================
CORS_ORIGINS=http://localhost:3000,https://jarvislife.io
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# Rate Limiting (Rule #2: Enforce server-side)
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_READ_ENDPOINTS=10
RATE_LIMIT_WRITE_ENDPOINTS=5
RATE_LIMIT_TRADE_ENDPOINTS=3
RATE_LIMIT_AUTH_ENDPOINTS=5

# =============================================================================
# Database
# =============================================================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/jarvis_demo
REDIS_URL=redis://localhost:6379/0
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# Solana
# =============================================================================
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_NETWORK=mainnet-beta  # mainnet-beta, devnet, testnet
JUPITER_API_URL=https://quote-api.jup.ag/v6

# =============================================================================
# Trading Limits (Rule #1: Server decides limits)
# =============================================================================
MAX_POSITIONS=50
MAX_POSITION_SIZE_SOL=10.0
MIN_POSITION_SIZE_SOL=0.01
MAX_SLIPPAGE_BPS=100  # 1%
SUCCESS_FEE_PERCENTAGE=0.5  # 0.5% on wins

# =============================================================================
# AI Provider - Option 1: Grok (Cloud - Premium)
# =============================================================================
XAI_API_KEY=  # Get from https://x.ai
XAI_MODEL=grok-beta
XAI_ENABLED=true

# =============================================================================
# AI Provider - Option 2: Ollama (Local - Zero Cost)
# =============================================================================
OLLAMA_ENABLED=false
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen3-coder  # or llama3, mistral, etc.

# If running Ollama on VPS:
# OLLAMA_BASE_URL=http://your-vps-ip:11434

# =============================================================================
# Bags.fm Integration (Required for trading)
# =============================================================================
BAGS_API_KEY=bags_prod_<key>
BAGS_API_URL=http://bags-api:3000  # Local bags-swap-api service
BAGS_ADMIN_KEY=  # Optional: For admin stats endpoint
SERVICE_FEE_BPS=50  # 0.5% service fee

# =============================================================================
# Supervisor Integration (Cross-component communication)
# =============================================================================
JARVIS_STATE_DIR=/app/shared_state  # Shared with other Jarvis bots

# =============================================================================
# Self-Correcting AI (Ollama + Claude)
# =============================================================================
# Claude (cloud, powerful) - optional
ANTHROPIC_API_KEY=  # Get from https://console.anthropic.com

# Ollama with Anthropic Messages API proxy (local, free) - optional
OLLAMA_ANTHROPIC_BASE_URL=http://ollama:11434/v1

# =============================================================================
# Wallet Encryption
# =============================================================================
WALLET_ENCRYPTION_ALGORITHM=AES-256-GCM
WALLET_KEY_DERIVATION=Argon2
WALLET_ARGON2_TIME_COST=3
WALLET_ARGON2_MEMORY_COST=65536  # 64MB
WALLET_ARGON2_PARALLELISM=4

# =============================================================================
# Security Headers (Rule #3: Backend enforces)
# =============================================================================
ENABLE_SECURITY_HEADERS=true
HSTS_MAX_AGE=31536000  # 1 year

# =============================================================================
# Monitoring & Logging
# =============================================================================
ENABLE_METRICS=true
METRICS_PORT=9090
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# =============================================================================
# Demo Profile
# =============================================================================
DEMO_TRADING_PROFILE=demo
DEMO_WALLET_PASSWORD=  # Optional: Pre-configured demo wallet password

# =============================================================================
# Production Notes
# =============================================================================
# For production deployment:
# 1. Set APP_ENV=production
# 2. Set DEBUG=false
# 3. Generate strong SECRET_KEY and JWT_SECRET (32+ chars)
# 4. Use production database (PostgreSQL)
# 5. Update CORS_ORIGINS to your domain only
# 6. Enable HTTPS and set HSTS_MAX_AGE
# 7. Configure firewall rules
# 8. Set up monitoring and alerts
# 9. Configure database backups
# 10. Review all security settings
