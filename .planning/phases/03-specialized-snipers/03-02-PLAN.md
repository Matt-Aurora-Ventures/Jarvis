# Phase 03: Specialized Snipers - Plan 02 (TradFi Options Data Triggers)

## Objective
Implement specialized Python sniper bots that execute trades on Solana SPL TradFi tokenized equities (xStocks, preStocks, etc.) by bridging real-world options data and the existing `jarvis-sniper` configuration parameters.

## Context
The `jarvis-sniper` frontend currently holds hardcoded configurations for TradFi: `xstock_intraday`, `xstock_swing`, `prestock_speculative`, `index_intraday`, and `index_leveraged`. The backend execution layer needs to bridge external data points (e.g. DXY, TradFi options flow) into executable logic on Solana matching these strict user-prescribed Risk/Reward limits.

## Implementation Steps

### Task 1: TradFi Data Ingestion (Python)
- **Objective:** Create a pipeline that pulls macro TradFi intel.
- **Action:**
  - Create `core/intel/tradfi_feed.py`.
  - Implement a basic poll for mock options flow or DXY strength.
  - Translate the qualitative strength (e.g., $TSLA calls) into a quantitative "BULLISH" / "BEARISH" vector.

### Task 2: Sniper Profile Linking
- **Objective:** Ensure the Bot execution strictly adheres to the UI's definitions without duplicating logic.
- **Action:**
  - Create `bots/tradfi_sniper/strategy_mapper.py`.
  - Hardcode or parse the `STRATEGY_CONFIGS` from the React app (such as `xstock_intraday: SL 4%, TP 10%`).
  - When the Python bot triggers a trade, it MUST attach these specific boundaries to the instruction request.

### Task 3: Jupiter Execution Runner
- **Objective:** Fire the Solana SPL tokenized equities trade based on the intel.
- **Action:**
  - Create `bots/tradfi_sniper/runner.py`.
  - Use the `JupiterPerpsAnchorClient` (or standard Jupiter Swap client if these are spot SPL tokens and not perps) to buy the target SPL asset on Solana.
  - Ensure the script registers the trade accurately simulating database state recording.

## Verification Plan
### Automated Tests
- Create `core/intel/tests/test_tradfi_feed.py` and `bots/tradfi_sniper/tests/test_mapper.py`.
- Run `pytest` to assert that:
  - The strategy mapping guarantees a `prestock_speculative` trade cannot be fired with incorrect SL boundaries (e.g., overriding the 4% hard cap).
  - The mock TradFi feed successfully flips the directional bias of the bot runner on changing option flow inputs.
