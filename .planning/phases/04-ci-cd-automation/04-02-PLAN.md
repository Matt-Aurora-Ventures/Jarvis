# Phase 04: CI/CD Automation - Plan 02 (Validation Gates)

## Objective
Enforce strict push-to-live restrictions specifically utilizing the Phase 1, 2, and 3 Python test layers (PyTorch, TradFi, OpenClaw, Jupiter).

## Context
Currently, the pipeline appears to run standard JS test tasks but lacks a formalized unified Python test run bridging the new autonomous systems safely before releasing `deploy.yml`.

## Implementation Steps

### Task 1: Create Python Pipeline Gating
- **Objective:** Stop bad code from propagating to bots gracefully.
- **Action:**
  - Add a dedicated GitHub workflow testing gate named `python-testing.yml`
  - The script should pull the latest `ubuntu` layout, install `Python 3.11`, and install requirements dynamically.
  - Execute `pytest core/ bots/ tests/` ensuring any regression in Jupiter Execution schemas or OpenClaw models fails the Action block avoiding subsequent deploys.

### Task 2: Block Pushes inside Repo Config
- **Objective:** Outline exactly how branch protection requires the Actions.
- **Action:**
  - Formative documentation within `.planning/STATE.md` mapping out that `python-testing` and `npm test` are non-negotiable checks inside the `main` branch rules matching the roadmap.

## Verification Plan
### Automated Verification
- We can dry-run the action scripts locally where possible or ensure YAML parser compliance before committing.
